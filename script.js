var tableRows=document.getElementsByClassName("tableRowItem");var breadMenu=document.getElementById("breadMenu");var timeMenu=document.getElementById("timeMenu");var amountMenu=document.getElementById("amountMenu");var orderForm=document.getElementById("orderForm");var submitButton=document.getElementById("submitButton");var addButton=document.getElementById("addButton");var removeButton=document.getElementById("removeButton");var totalCost=0;window.onload=function(){var todaysDate=new Date();var today=todaysDate.getDay();if(today>=5&&today<=6){populateTimeMenu(9,16)}else{populateTimeMenu(8,17)}addButton.onclick=function(){addBreadItem()};removeButton.onclick=function(){removeBreadItem()};submitButton.onclick=function(){placeOrder()}};function populateTimeMenu(start,end){while(start<=end){if(start<10){var tempOption=document.createElement("OPTION");var tempTextNode=document.createTextNode("0"+start+":00");tempOption.appendChild(tempTextNode);timeMenu.appendChild(tempOption)}else{var tempOption=document.createElement("OPTION");var tempTextNode=document.createTextNode(start+":00");tempOption.appendChild(tempTextNode);timeMenu.appendChild(tempOption)}start+=1}}function addBreadItem(){if(breadMenu.value!="noChoice"){var success=false;var i=0;var unoccupiedRow=-1;var rowFound=false;while(i<tableRows.length&&success==false){if(tableRows[i].childNodes[0].innerHTML==breadMenu.value){tableRows[i].childNodes[1].innerHTML=parseInt(tableRows[i].childNodes[1].innerHTML)+parseInt(amountMenu.value);tableRows[i].childNodes[2].innerHTML=parseInt(tableRows[i].childNodes[2].innerHTML)+parseInt(amountMenu.value)*getBreadItemCost();totalCost=totalCost+parseInt(amountMenu.value)*getBreadItemCost();tableRows[0].childNodes[3].innerHTML=totalCost;success=true}if(tableRows[i].childNodes[0].innerHTML==""&&rowFound==false){unoccupiedRow=i;rowFound=true}i+=1}if(success==false){tableRows[unoccupiedRow].childNodes[0].innerHTML=breadMenu.value;tableRows[unoccupiedRow].childNodes[1].innerHTML=amountMenu.value;tableRows[unoccupiedRow].childNodes[2].innerHTML=getBreadItemCost()*amountMenu.value;totalCost=totalCost+parseInt(amountMenu.value)*getBreadItemCost();tableRows[0].childNodes[3].innerHTML=totalCost}}}function removeBreadItem(){if(breadMenu.value!="noChoice"){var i=0;var success=false;while(i<tableRows.length&&success==false){if(tableRows[i].childNodes[0].innerHTML==breadMenu.value){tableRows[i].childNodes[1].innerHTML=parseInt(tableRows[i].childNodes[1].innerHTML)-amountMenu.value;if(parseInt(tableRows[i].childNodes[1].innerHTML)<=0){tableRows[i].childNodes[1].innerHTML="";tableRows[i].childNodes[0].innerHTML=""}tableRows[i].childNodes[2].innerHTML=parseInt(tableRows[i].childNodes[2].innerHTML)-getBreadItemCost()*amountMenu.value;if(parseInt(tableRows[i].childNodes[2].innerHTML)<=0){tableRows[i].childNodes[2].innerHTML="";tableRows[i].childNodes[0].innerHTML=""}totalCost=totalCost-parseInt(amountMenu.value)*getBreadItemCost();;if(totalCost<=0){tableRows[0].childNodes[3].innerHTML=totalCost;tableRows[0].childNodes[3].innerHTML="";totalCost=0}}i+=1}}}function getBreadItemCost(){var cost=0;var temp=breadMenu.value;if(temp=="Kanelbulle"){cost=25}else if(temp=="Kardemummabulle"){cost=28}else if(temp=="Croissant"){cost=20}else if(temp=="Surdegslimpa"){cost=40}return cost}function placeOrder(){if(timeMenu.value!="noChoice"){var success=false;var i=0;while(i<tableRows.length&&success==false){if(tableRows[i].childNodes[0].innerHTML!=""){success=true}i+=1}}if(success==true){window.location.assign("bestallt.html")}else{alert("Du måste välja en tid och minst en bakelse för att beställa")}}